import QtQuick 2.15
import QtQuick.Window 2.15
import QtQuick.Controls 2.15

ApplicationWindow {
    width: 800
    height: 600
    visible: true
    title: qsTr("Simulazione Estuario")

    StackView {
        id: stackView
        anchors.fill: parent
    }

    Component.onCompleted: {
        stackView.push(menuScreen)
    }

    // Stile comune per i pulsanti
    Component {
        id: styledButton
        Button {
            width: 220
            height: 50
            font.pixelSize: 16
            background: Rectangle {
                color: parent.hovered ? "#3E8E41" : "#2196F3"
                radius: 10
                border.width: 2
                border.color: "white"
            }
        }
    }

    // Menu principale
    Component {
        id: menuScreen
        Rectangle {
            anchors.fill: parent
            gradient: Gradient {
                GradientStop { position: 0.0; color: "#87CEEB" }
                GradientStop { position: 1.0; color: "#4682B4" }
            }

            Column {
                anchors.centerIn: parent
                spacing: 20

                Text {
                    text: "Menu Principale"
                    font.pixelSize: 48
                    font.bold: true
                    color: "white"
                    anchors.horizontalCenter: parent.horizontalCenter
                }

                Button {
                      id: startButton
                      text: "Start"
                     width: 220
                     height: 50
                    font.pixelSize: 18
                    onClicked: stackView.push(page1)
                    background: Rectangle {
                    color: startButton.hovered ? "green" : "#2196F3"
                    radius: 10
                    border.width: 2
                    border.color: "white"
                                 }
                }

                                      Button {
                                             id: exitButton
                                             text: "Exit"
                                             width: 220
                                             height: 50
                                             font.pixelSize: 18
                                             onClicked: stackView.push(page1)
                                             background: Rectangle {
                                             color: exitButton.hovered ? "red" : "#2196F3"
                                             radius: 10
                                             border.width: 2
                                             border.color: "white"
                                                        }
                }
            }
        }
    }

    Component {
        id: page1
        Rectangle {
            width: 800
            height: 600
            gradient: Gradient {
                GradientStop { position: 0.0; color: "#B3E5FC" }
                GradientStop { position: 1.0; color: "#81D4FA" }
            }

            Column {
                anchors.centerIn: parent
                spacing: 15

                TextField {
                    id: outputFileName
                    placeholderText: "Nome file di output"
                    text: "test_003"
                }

                TextField {
                    id: startDate
                    placeholderText: "Data e ora di inizio"
                    text: "00-00-00 01/01/1999"
                }

                TextField {
                    id: simulationDuration
                    placeholderText: "Durata simulazione (s)"
                    text: "86400"
                }

                Row {
                    spacing: 10
                    Button { text: "Avanti"; onClicked: stackView.push(page2) }
                    Button { text: "Indietro"; onClicked: stackView.pop() }
                }
            }
        }
    }

    // Pagina 2 - Geometria del Canale
    Component {
        id: page2
        Rectangle {
            width: 800
            height: 600
            gradient: Gradient {
                GradientStop { position: 0.0; color: "#C8E6C9" }
                GradientStop { position: 1.0; color: "#A5D6A7" }
            }

            Column {
                anchors.centerIn: parent
                spacing: 15

                TextField {
                    id: channelDataFile
                    placeholderText: "Nome file dati canale"
                    text: "along_channel_data"
                }

                TextField {
                    id: crossSectionFile
                    placeholderText: "Nome file sezioni trasversali"
                    text: "cross_sections"
                }

                Row {
                    spacing: 10
                    Button { text: "Avanti"; onClicked: stackView.push(page3) }
                    Button { text: "Indietro"; onClicked: stackView.pop() }
                }
            }
        }
    }

    // Pagina 3 - Costanti e Metodi
    Component {
        id: page3
        Rectangle {
            width: 800
            height: 600
            gradient: Gradient {
                GradientStop { position: 0.0; color: "#FFF9C4" }
                GradientStop { position: 1.0; color: "#FFF59D" }
            }

            Column {
                anchors.centerIn: parent
                spacing: 15

                TextField {
                    id: courantNumber
                    placeholderText: "Numero Courant (0 - 1)"
                    text: "0.1"
                }

                TextField {
                    id: flowLimiter
                    placeholderText: "Limitatore McComarck (y/n)"
                    text: "y"
                }

                TextField {
                    id: equationLimiter
                    placeholderText: "Equazione Limiter Flux (1-4)"
                    text: "4"
                }

                TextField {
                    id: deltaValue
                    placeholderText: "Delta Value"
                    text: "0.20"
                }

                Row {
                    spacing: 10
                    Button { text: "Avanti"; onClicked: stackView.push(page4) }
                    Button { text: "Indietro"; onClicked: stackView.pop() }
                }
            }
        }
    }

    // Pagina 4 - Avvio Simulazione
    Component {
        id: page4
        Rectangle {
            width: 800
            height: 600
            gradient: Gradient {
                GradientStop { position: 0.0; color: "#FFCCBC" }
                GradientStop { position: 1.0; color: "#FFAB91" }
            }

            Column {
                anchors.centerIn: parent
                spacing: 15

                Text {
                    text: "Avvia Simulazione"
                    font.pixelSize: 24
                    font.bold: true
                }

                TextField {
                    id: salinityFile
                    placeholderText: "File salinità"
                    text: "salinity"
                }

                TextField {
                    id: salinityCondition
                    placeholderText: "Condizione salinità (0-2)"
                    text: "0"
                }

                TextField {
                    id: longitudinalDispersion
                    placeholderText: "Dispersione longitudinale (m²/s)"
                    text: "750.00"
                }

                TextField {
                    id: computeSediment
                    placeholderText: "Calcolo trasporto sedimenti (y/n)"
                    text: "n"
                }

                Row {
                    spacing: 10
                    Button {
                        text: "Avvia"
                        onClicked: console.log("Simulazione Avviata")
                    }
                    Button {
                        text: "Indietro"
                        onClicked: stackView.pop()
                    }
                }
            }
        }
    }
}
